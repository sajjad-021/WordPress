jQuery(function(a){var i={params:wc_braintree_payment_methods_params,token_selector:".wc-braintree-payment-token",container:".wc-braintree-payment-gateway",new_method_container:".wc-braintree-new-payment-method-container",saved_method_container:".wc-braintree-payment-methods-container",init:function(){this.has_payment_methods()&&(a(document.body).on("updated_checkout",this.update_elements),a(document.body).on("update_checkout",this.update_checkout),a(document.body).on("click",".wc-braintree-payment-type",i.display_payment_container),a(document.body).on("change","select.wc-braintree-payment-method",i.update_method_from_select),this.initialize_elements())},initialize_elements:function(){a().select2&&a("select.wc-braintree-payment-method").length&&!a("select.wc-braintree-payment-method").hasClass("select2-hidden-accessible")&&a("select.wc-braintree-payment-method").select2({width:"100%",templateResult:i.output_template,templateSelection:i.output_template}).trigger("change")},update_checkout:function(){i.payment_types=a(".wc-braintree-payment-type").filter(":checked")},update_elements:function(){i.initialize_elements(),a.each(i.payment_types,function(e,t){var n="#"+a(t).attr("id");a(n).prop("checked",!0).trigger("click")})},display_payment_container:function(e){"token"===a(this).val()?a(this).closest(i.container).find(i.new_method_container).slideUp(400,function(){a(this).closest(i.container).find(i.saved_method_container).slideDown(400),a(document.body).triggerHandler("wc_braintree_display_saved_methods",a('[name="payment_method"]:checked').val())}):a(this).closest(i.container).find(i.saved_method_container).slideUp(400,function(){a(this).closest(i.container).find(i.new_method_container).slideDown(400),a(document.body).triggerHandler("wc_braintree_display_new_payment_method",a('[name="payment_method"]:checked').val())})},has_payment_methods:function(){return a(".wc-braintree-payment-methods-container").length},update_method_from_select:function(){a(this).closest(i.container).find(i.token_selector).val(a(this).val())},output_template:function(e,n){var t=a(e.element).data("method-type");a(e.element).data("gateway");return t&&(a.each(i.params.cards,function(e,t){a(n).removeClass(t)}),a(n).addClass("wc-braintree-select2-container "+t)),a(document.body).triggerHandler("wc_braintree_payment_method_template",[e,n]),e.text}};i.init()});