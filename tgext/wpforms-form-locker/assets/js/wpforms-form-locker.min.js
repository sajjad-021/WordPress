var WPFormsFormLocker=window.WPFormsFormLocker||function(e,s,a){"use strict";var t={init:function(){a(e).ready(t.ready)},ready:function(){t.validation()},validation:function(){void 0!==a.fn.validate&&a.validator.addMethod("unique",function(i,o,e,n){if(this.optional(o))return"dependency-mismatch";n="string"==typeof n&&n||"unique";var d,s,t,m=this.previousValue(o,n);return this.settings.messages[o.name]||(this.settings.messages[o.name]={}),m.originalMessage=m.originalMessage||this.settings.messages[o.name][n],this.settings.messages[o.name][n]=m.message,e="string"==typeof e&&{url:e}||e,t=a.param(a.extend({data:i},e.data)),m.old===t?m.valid:(m.old=t,(d=this).startRequest(o),(s={action:"wpforms_form_locker_unique_answer",form_id:a(o).closest(".wpforms-form").data("formid"),field_id:a(o).closest(".wpforms-field").data("field-id")})[o.name]=i,a.ajax(a.extend(!0,{url:wpforms_form_locker.ajaxurl,type:"post",mode:"abort",port:"validate"+o.name,dataType:"json",data:s,context:d.currentForm,success:function(e){var s,t,a,r=!0===e||"true"===e;d.settings.messages[o.name][n]=m.originalMessage,r?(a=d.formSubmitted,d.resetInternals(),d.toHide=d.errorsFor(o),d.formSubmitted=a,d.successList.push(o),d.invalid[o.name]=!1,d.showErrors()):(s={},t=e||d.defaultMessage(o,{method:n,parameters:i}),s[o.name]=m.message=t,d.invalid[o.name]=!0,d.showErrors(s)),m.valid=r,d.stopRequest(o,r)}},e)),"pending")},wpforms_settings.val_unique)}};return t}(document,window,jQuery);WPFormsFormLocker.init();