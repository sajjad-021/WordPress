var WPFormsBuilderFormLocker=window.WPFormsBuilderFormLocker||function(e,t,s){"use strict";var i={init:function(){s(e).ready(i.ready)},ready:function(){i.events(),i.conditionals(),i.dateTimePicker()},events:function(){s(".wpforms-panel-field-datetime .wpforms-clear-datetime-field").click(function(){var e=s(this).siblings("input");e.prop("_flatpickr")?e.prop("_flatpickr").clear():e.val(""),s(this).hide()})},conditionals:function(){void 0!==s.fn.conditions&&s.each([{id:"#wpforms-panel-field-settings-form_locker_password_enable",hides:"#wpforms-panel-field-settings-form_locker_password-wrap,#wpforms-panel-field-settings-form_locker_password_message-wrap"},{id:"#wpforms-panel-field-settings-form_locker_schedule_enable",hides:"#wpforms-form-locker-schedule-datetime-block,#wpforms-panel-field-settings-form_locker_schedule_message-wrap"},{id:"#wpforms-panel-field-settings-form_locker_entry_limit_enable",hides:"#wpforms-panel-field-settings-form_locker_entry_limit-wrap,#wpforms-panel-field-settings-form_locker_entry_limit_message-wrap"},{id:"#wpforms-panel-field-settings-form_locker_user_enable",hides:"#wpforms-panel-field-settings-form_locker_user_message-wrap"}],function(e,t){s(t.id).conditions({conditions:{element:t.id,type:"checked",operator:"is"},actions:{if:{element:t.hides,action:"show"},else:{element:t.hides,action:"hide"}},effect:"appear"})})},dateTimePicker:function(){i.datePicker(),i.timePicker(),i.datePair(),i.dateTimeClearBtnsInit()},datePicker:function(){function e(e){var i=s("#wpforms-panel-field-settings-form_locker_schedule_"+e+"_time"),r=s("#wpforms-panel-field-settings-form_locker_schedule_"+e+"_date"),t={altInput:!0,altFormat:wpforms_admin_builder_form_locker.date_format,dateFormat:"Y-m-d",onChange:function(e,t){""===i.val()&&""!==r.val()&&i.timepicker("setTime",new Date(e)).nextAll("button.wpforms-clear-datetime-field").show(),""!==r.val()&&r.nextAll("button.wpforms-clear-datetime-field").show()}};return t}void 0!==s.fn.flatpickr&&(s("#wpforms-panel-field-settings-form_locker_schedule_start_date").flatpickr(e("start")),s("#wpforms-panel-field-settings-form_locker_schedule_end_date").flatpickr(e("end")))},timePicker:function(){if(void 0!==s.fn.timepicker){var e={appendTo:s("#wpforms-builder"),disableTextInput:!0,timeFormat:wpforms_admin_builder_form_locker.time_format},t=s("#wpforms-panel-field-settings-form_locker_schedule_start_time"),i=s("#wpforms-panel-field-settings-form_locker_schedule_end_time");t.timepicker(e).on("selectTime",r),i.timepicker(e).on("selectTime",r)}function r(){""!==s(this).val()&&s(this).nextAll(".wpforms-clear-datetime-field").show()}},datePair:function(){var e={anchor:null,defaultDateDelta:null,defaultTimeDelta:null,dateClass:"wpforms-datepair-date",timeClass:"wpforms-datepair-time",startClass:"wpforms-datepair-start",endClass:"wpforms-datepair-end",parseDate:function(e){return s(e).prop("_flatpickr").selectedDates[0]},updateDate:function(e,t){return s(e).prop("_flatpickr").setDate(t)}};s("#wpforms-form-locker-schedule-datetime-block").datepair(e)},dateTimeClearBtnsInit:function(){s("#wpforms-form-locker-schedule-datetime-block .wpforms-clear-datetime-field").each(function(){var e=s(this);""===e.siblings('[id^="wpforms-panel-field-settings-form_locker_schedule_"]').val()&&e.hide()})}};return i}(document,window,jQuery);WPFormsBuilderFormLocker.init();